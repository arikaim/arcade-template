{% set lenght = lenght|default(10) %}
{% set games = createModel('Games','arcade').getActive().notPremiumGamesQuery() %}
{% if mobile == true %}
    {% set games = games.mobileGamesQuery(mobile) %}  
{% endif %}
{% if random == true %}
    {% set games = games.orderByRaw('RAND()') %}
{% endif %}
{% if popular == true %}
    {% set games = games.orderBy('plays','desc') %}
    {% set title = title|default(labels.popular) %}
{% endif %}
{% if new == true %}
    {% set games = games.orderBy('date_created','desc') %}
    {% set title = title|default(labels.new) %}
{% endif %}
{% if featured == true %}
    {% set games = games.where('featured','=',1) %}
    {% set games = games.orderBy('date_created','desc') %}
    {% set title = title|default(labels.featured) %}
{% endif %}
{% set games = games.take(lenght).get() %}
{% component 'arcade:panel' %}
<div class="tailwind-grid grid-cols-5 items-stretch gap-2 self-stretch">
    {% for game in games %}
        {% set thumbnail = (game.thumbnail is not empty) ? game.thumbnail : template_url ~ '/images/gamepad.svg' %}
        <div class="w-14 h-14 rounded-lg borderless game-card shadow" data-tooltip="{{ game.display_title }}">     
            <a class="w-full h-full" href="{{ game.getGamePageUrl() }}">                                         
                <img class="w-full h-full game-image rounded" src="{{ thumbnail }}">                  
            </a>                
        </div>
    {% endfor %}
</div>
{% endcomponent %}