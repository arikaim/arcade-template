{% set lenght = lenght|default(7) %}
{% set user_id = access().getId() %}
{% if user_id is not empty %}
    {% set model = createModel('Games','arcade') %}
    {% set items = createModel('PlayerItems','arcade').getItemsQuery(user_id).orderBy('date_created','desc') %}
    {% set items = items.take(lenght).get() %}
    {% if items|length > 0 %}
        {% component 'arcade>panel' %}     
            <div class="ui stackable five inverted cards">        
            {% for item in items %}
                {% set game = model.findById(item.item_value) %}
                {% set thumbnail = (game.thumbnail is not empty) ? game.thumbnail : template_url ~ '/images/gamepad.svg' %}
                <div class="ui raised card fluid borderless game-card">  
                    <a class="w-full h-full show-popup" href="{{ game.getGamePageUrl() }}" >                                         
                        <img class="w-full h-full game-image rounded" data-src="{{ thumbnail }}">                  
                    </a>     
                    <div class="ui popup top left transition inverted hidden">
                        <div class="p-0 text-white">
                            {{ game.display_title }}
                        </div>
                    </div>
                </div>               
            {% endfor %}       
            </div>
        {% endcomponent %}
        </div>
    {% endif %}
{% endif %}